My proxy server is written in python. 

Globals
I initialised some global constants at the start of the program. Backlog is the maximum number of queued connections and I used the value 5 as this is the usual system maximum value. 
BUFF is the maximum buffer size of data we can actually receive from a socket. The value 16000 used here is somewhat arbitrary, and came about from some googling and testing different figures. 
USERPORT is the localhost user port used by the proxy server.
The BLOCKED_URLS_FILE points to the perisiting text file containing the blocked URLS. The urls_blocked list acts as a storage mechanism for blocked urls during runtime of the server,
cache is the hash map for key value pairs. cache_entry is a temporary way of storing a request to enter into the cache.

Main Function
The main has a bit of setup where the program takes the stored blocked URLs from their text file into the urls list. I chose to put blocked urls into a tex file as it was a simple way to ensure they weren't volatile. The urls_blocked list is used during run time of the program to keep track of blocked urls. 
A simple user menu allows the user to choose between running the server, blocking or unblocking urls or exiting the program.
If the user selects to run the server the run function sets up a tcp connection and waits for the user to type something in a browser.
The server accepts a connection and gets request data from this connection. It then starts threads running the request_parser function on the request data. 
The request parser extracts the port and server number from the url, and passes it along to the relayer function along with the connection and the request.

The relayer function checks that the url isnt blocked and if it isnt checks first to see if the request is cached. If it is cached the data is sent straight to the browser connection. 
If the request is not cached, a new socket is set up. The socket receives data after sending its request. This data is cached and sent to the browser. 

If the user chooses to block or unblock from the main menu, a second menu is displayed where a user chooses to block a url, unblock a url or return to the main menu. 
If they choose to block they are prompted for the url and this is added to the blocked urls list and added to the urls file.
If they choose to unblock they are also prompted for the url. The url is removed from the urls list and the urls file is overwritten. 



